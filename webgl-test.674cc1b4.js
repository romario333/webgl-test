parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({7:[function(require,module,exports) {
var global = (1,eval)("this");
var e=(0,eval)("this");!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.twgl=r():e.twgl=r()}("undefined"!=typeof self?self:this,function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=9)}([function(e,r,t){"use strict";r.__esModule=!0,r.copyExistingProperties=function(e,r){Object.keys(r).forEach(function(t){r.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(r[t]=e[t])})},r.copyNamedProperties=function(e,r,t){e.forEach(function(e){var n=r[e];void 0!==n&&(t[e]=n)})},r.isBuffer=function(e,r){i||(i=e.createBuffer());return r instanceof i.constructor},r.isRenderbuffer=function(e,r){u||(u=e.createRenderbuffer());return r instanceof u.constructor},r.isShader=function(e,r){f||(f=e.createShader(e.VERTEX_SHADER));return r instanceof f.constructor},r.isTexture=function(e,r){s||(s=e.createTexture());return r instanceof s.constructor},r.isSampler=function(e,r){if(!c){if(!e.createSampler)return!1;c=e.createSampler()}return r instanceof c.constructor},r.warn=r.error=void 0;var n,a=(n=t(2))&&n.__esModule?n:{default:n};var o=a.default.console&&a.default.console.error&&"function"==typeof a.default.console.error?a.default.console.error.bind(a.default.console):function(){};r.error=o;var i,u,f,s,c,l=a.default.console&&a.default.console.warn&&"function"==typeof a.default.console.warn?a.default.console.warn.bind(a.default.console):function(){};r.warn=l},function(e,r,t){"use strict";r.__esModule=!0,r.getGLTypeForTypedArray=function(e){if(e instanceof Int8Array)return o;if(e instanceof Uint8Array)return i;if(e instanceof Uint8ClampedArray)return i;if(e instanceof Int16Array)return u;if(e instanceof Uint16Array)return f;if(e instanceof Int32Array)return s;if(e instanceof Uint32Array)return c;if(e instanceof Float32Array)return l;throw"unsupported typed array type"},r.getGLTypeForTypedArrayType=function(e){if(e===Int8Array)return o;if(e===Uint8Array)return i;if(e===Uint8ClampedArray)return i;if(e===Int16Array)return u;if(e===Uint16Array)return f;if(e===Int32Array)return s;if(e===Uint32Array)return c;if(e===Float32Array)return l;throw"unsupported typed array type"},r.getTypedArrayTypeForGLType=function(e){var r=m[e];if(!r)throw"unknown gl type";return r},r.isArrayBuffer=void 0;var n,a=(n=t(2))&&n.__esModule?n:{default:n};var o=5120,i=5121,u=5122,f=5123,s=5124,c=5125,l=5126,m={},p=m;p[o]=Int8Array,p[i]=Uint8Array,p[u]=Int16Array,p[f]=Uint16Array,p[s]=Int32Array,p[c]=Uint32Array,p[l]=Float32Array,p[32819]=Uint16Array,p[32820]=Uint16Array,p[33635]=Uint16Array,p[5131]=Uint16Array,p[33640]=Uint32Array,p[35899]=Uint32Array,p[35902]=Uint32Array,p[36269]=Uint32Array,p[34042]=Uint32Array;var d=a.default.SharedArrayBuffer?function(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof a.default.SharedArrayBuffer)}:function(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};r.isArrayBuffer=d},function(e,r,t){"use strict";r.__esModule=!0,r.default=void 0;var n=void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};r.default=n},function(e,r,t){"use strict";r.__esModule=!0,r.add=function(e,r,t){return(t=t||new n(3))[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},r.copy=function(e,r){return(r=r||new n(3))[0]=e[0],r[1]=e[1],r[2]=e[2],r},r.create=function(e,r,t){var a=new n(3);e&&(a[0]=e);r&&(a[1]=r);t&&(a[2]=t);return a},r.cross=function(e,r,t){t=t||new n(3);var a=e[2]*r[0]-e[0]*r[2],o=e[0]*r[1]-e[1]*r[0];return t[0]=e[1]*r[2]-e[2]*r[1],t[1]=a,t[2]=o,t},r.distance=function(e,r){var t=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2];return Math.sqrt(t*t+n*n+a*a)},r.distanceSq=function(e,r){var t=e[0]-r[0],n=e[1]-r[1],a=e[2]-r[2];return t*t+n*n+a*a},r.divide=function(e,r,t){return(t=t||new n(3))[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},r.divScalar=function(e,r,t){return(t=t||new n(3))[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r,t},r.dot=function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]},r.lerp=function(e,r,t,a){return(a=a||new n(3))[0]=(1-t)*e[0]+t*r[0],a[1]=(1-t)*e[1]+t*r[1],a[2]=(1-t)*e[2]+t*r[2],a},r.length=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])},r.lengthSq=function(e){return e[0]*e[0]+e[1]*e[1]+e[2]*e[2]},r.mulScalar=function(e,r,t){return(t=t||new n(3))[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},r.multiply=function(e,r,t){return(t=t||new n(3))[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},r.negate=function(e,r){return(r=r||new n(3))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r},r.normalize=function(e,r){r=r||new n(3);var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],a=Math.sqrt(t);a>1e-5?(r[0]=e[0]/a,r[1]=e[1]/a,r[2]=e[2]/a):(r[0]=0,r[1]=0,r[2]=0);return r},r.setDefaultType=function(e){var r=n;return n=e,r},r.subtract=function(e,r,t){return(t=t||new n(3))[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t};var n=Float32Array},function(e,r,t){"use strict";r.__esModule=!0,r.isWebGL1=function(e){return!e.texStorage2D},r.isWebGL2=function(e){return!!e.texStorage2D},r.glEnumToString=void 0;var n=function(){var e={},r={};return function(t,n){return function(t){var n=t.constructor.name;if(!e[n]){for(var a in t)if("number"==typeof t[a]){var o=r[t[a]];r[t[a]]=o?"".concat(o," | ").concat(a):a}e[n]=!0}}(t),r[n]||"0x"+n.toString(16)}}();r.glEnumToString=n},function(e,r,t){"use strict";r.__esModule=!0,r.createAttributeSetters=G,r.createProgram=B,r.createProgramFromScripts=function(e,r,t,n,a){for(var o=F(t,n,a),i=[],u=0;u<r.length;++u){var f=I(e,r[u],e[U[u]],o.errorCallback);if(!f)return null;i.push(f)}return B(e,i,o)},r.createProgramFromSources=S,r.createProgramInfo=function(e,r,t,n,a){var o=F(t,n,a),i=!0;if(r=r.map(function(e){if(e.indexOf("\n")<0){var r=c(e);r?e=r.text:(o.errorCallback("no element with id: "+e),i=!1)}return e}),!i)return null;var u=S(e,r,o);if(!u)return null;return V(e,u)},r.createProgramInfoFromProgram=V,r.createUniformSetters=M,r.createUniformBlockSpecFromProgram=L,r.createUniformBlockInfoFromProgram=j,r.createUniformBlockInfo=function(e,r,t){return j(e,r.program,r.uniformBlockSpec,t)},r.createTransformFeedback=function(e,r,t){var n=e.createTransformFeedback();return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,n),e.useProgram(r.program),N(e,r,t),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),function(e,r,t){for(var n in r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),t.attribs&&(t=t.attribs),t){var a=r[n];a&&e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,a.index,null)}}(e,r,t),n},r.createTransformFeedbackInfo=D,r.bindTransformFeedbackInfo=N,r.setAttributes=X,r.setBuffersAndAttributes=function(e,r,t){t.vertexArrayObject?e.bindVertexArray(t.vertexArrayObject):(X(r.attribSetters||r,t.attribs),t.indices&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indices))},r.setUniforms=function e(r,t){var n=r.uniformSetters||r;var a=arguments.length;for(var o=1;o<a;++o){var i=arguments[o];if(Array.isArray(i))for(var u=i.length,f=0;f<u;++f)e(n,i[f]);else for(var s in i){var c=n[s];c&&c(i[s])}}},r.setUniformBlock=function(e,r,t){z(e,r,t)&&e.bufferData(e.UNIFORM_BUFFER,t.array,e.DYNAMIC_DRAW)},r.setBlockUniforms=function(e,r){var t=e.uniforms;for(var n in r){var a=t[n];if(a){var o=r[n];o.length?a.set(o):a[0]=o}}},r.bindUniformBlock=z;var n,a=u(t(4)),o=u(t(0)),i=(n=t(2))&&n.__esModule?n:{default:n};function u(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var f=o.error,s=o.warn,c=i.default&&i.default.document&&i.default.document.getElementById?i.default.document.getElementById.bind(i.default.document):function(){return null},l={};function m(e,r){return l[r].bindPoint}function p(e,r){return function(t){e.uniform1i(r,t)}}function d(e,r){return function(t){e.uniform1iv(r,t)}}function y(e,r){return function(t){e.uniform2iv(r,t)}}function b(e,r){return function(t){e.uniform3iv(r,t)}}function v(e,r){return function(t){e.uniform4iv(r,t)}}function E(e,r,t,n){var i=m(0,r);return a.isWebGL2(e)?function(r){var a,u;o.isTexture(e,r)?(a=r,u=null):(a=r.texture,u=r.sampler),e.uniform1i(n,t),e.activeTexture(e.TEXTURE0+t),e.bindTexture(i,a),e.bindSampler(t,u)}:function(r){e.uniform1i(n,t),e.activeTexture(e.TEXTURE0+t),e.bindTexture(i,r)}}function h(e,r,t,n,i){for(var u=m(0,r),f=new Int32Array(i),s=0;s<i;++s)f[s]=t+s;return a.isWebGL2(e)?function(r){e.uniform1iv(n,f),r.forEach(function(r,n){var a,i;e.activeTexture(e.TEXTURE0+f[n]),o.isTexture(e,r)?(a=r,i=null):(a=r.texture,i=r.sampler),e.bindSampler(t,i),e.bindTexture(u,a)})}:function(r){e.uniform1iv(n,f),r.forEach(function(r,t){e.activeTexture(e.TEXTURE0+f[t]),e.bindTexture(u,r)})}}function _(e,r){return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,t.numComponents||t.size,t.type||e.FLOAT,t.normalize||!1,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function A(e,r){return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer),e.enableVertexAttribArray(r),e.vertexAttribIPointer(r,t.numComponents||t.size,t.type||e.INT,t.stride||0,t.offset||0),void 0!==t.divisor&&e.vertexAttribDivisor(r,t.divisor)}}function T(e,r,t){var n=t.size,a=t.count;return function(t){e.bindBuffer(e.ARRAY_BUFFER,t.buffer);for(var o=t.size||t.numComponents||n,i=o/a,u=t.type||e.FLOAT,f=l[u].size*o,s=t.normalize||!1,c=t.offset||0,m=f/a,p=0;p<a;++p)e.enableVertexAttribArray(r+p),e.vertexAttribPointer(r+p,i,u,s,f,c+m*p),void 0!==t.divisor&&e.vertexAttribDivisor(r+p,t.divisor)}}l[5126]={Type:Float32Array,size:4,setter:function(e,r){return function(t){e.uniform1f(r,t)}},arraySetter:function(e,r){return function(t){e.uniform1fv(r,t)}}},l[35664]={Type:Float32Array,size:8,setter:function(e,r){return function(t){e.uniform2fv(r,t)}}},l[35665]={Type:Float32Array,size:12,setter:function(e,r){return function(t){e.uniform3fv(r,t)}}},l[35666]={Type:Float32Array,size:16,setter:function(e,r){return function(t){e.uniform4fv(r,t)}}},l[5124]={Type:Int32Array,size:4,setter:p,arraySetter:d},l[35667]={Type:Int32Array,size:8,setter:y},l[35668]={Type:Int32Array,size:12,setter:b},l[35669]={Type:Int32Array,size:16,setter:v},l[5125]={Type:Uint32Array,size:4,setter:function(e,r){return function(t){e.uniform1ui(r,t)}},arraySetter:function(e,r){return function(t){e.uniform1uiv(r,t)}}},l[36294]={Type:Uint32Array,size:8,setter:function(e,r){return function(t){e.uniform2uiv(r,t)}}},l[36295]={Type:Uint32Array,size:12,setter:function(e,r){return function(t){e.uniform3uiv(r,t)}}},l[36296]={Type:Uint32Array,size:16,setter:function(e,r){return function(t){e.uniform4uiv(r,t)}}},l[35670]={Type:Uint32Array,size:4,setter:p,arraySetter:d},l[35671]={Type:Uint32Array,size:8,setter:y},l[35672]={Type:Uint32Array,size:12,setter:b},l[35673]={Type:Uint32Array,size:16,setter:v},l[35674]={Type:Float32Array,size:16,setter:function(e,r){return function(t){e.uniformMatrix2fv(r,!1,t)}}},l[35675]={Type:Float32Array,size:36,setter:function(e,r){return function(t){e.uniformMatrix3fv(r,!1,t)}}},l[35676]={Type:Float32Array,size:64,setter:function(e,r){return function(t){e.uniformMatrix4fv(r,!1,t)}}},l[35685]={Type:Float32Array,size:24,setter:function(e,r){return function(t){e.uniformMatrix2x3fv(r,!1,t)}}},l[35686]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix2x4fv(r,!1,t)}}},l[35687]={Type:Float32Array,size:24,setter:function(e,r){return function(t){e.uniformMatrix3x2fv(r,!1,t)}}},l[35688]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix3x4fv(r,!1,t)}}},l[35689]={Type:Float32Array,size:32,setter:function(e,r){return function(t){e.uniformMatrix4x2fv(r,!1,t)}}},l[35690]={Type:Float32Array,size:48,setter:function(e,r){return function(t){e.uniformMatrix4x3fv(r,!1,t)}}},l[35678]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:3553},l[35680]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:34067},l[35679]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:32879},l[35682]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:3553},l[36289]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:35866},l[36292]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:35866},l[36293]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:34067},l[36298]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:3553},l[36299]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:32879},l[36300]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:34067},l[36303]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:35866},l[36306]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:3553},l[36307]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:32879},l[36308]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:34067},l[36311]={Type:null,size:0,setter:E,arraySetter:h,bindPoint:35866};var x={};x[5126]={size:4,setter:_},x[35664]={size:8,setter:_},x[35665]={size:12,setter:_},x[35666]={size:16,setter:_},x[5124]={size:4,setter:A},x[35667]={size:8,setter:A},x[35668]={size:12,setter:A},x[35669]={size:16,setter:A},x[5125]={size:4,setter:A},x[36294]={size:8,setter:A},x[36295]={size:12,setter:A},x[36296]={size:16,setter:A},x[35670]={size:4,setter:A},x[35671]={size:8,setter:A},x[35672]={size:12,setter:A},x[35673]={size:16,setter:A},x[35674]={size:4,setter:T,count:2},x[35675]={size:9,setter:T,count:3},x[35676]={size:16,setter:T,count:4};var g=void 0;var R=/^[ \t]*\n/;function P(e,r,t,n){var a=n||f,o=e.createShader(t),i=0;if(R.test(r)&&(i=1,r=r.replace(R,"")),e.shaderSource(o,r),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var u=e.getShaderInfoLog(o);return a(function(e,r){return r=r||0,++r,e.split("\n").map(function(e,t){return t+r+": "+e}).join("\n")}(r,i)+"\n*** Error compiling shader: "+u),e.deleteShader(o),null}return o}function F(e,r,t){var n;if("function"==typeof r&&(t=r,r=void 0),"function"==typeof e)t=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback)return e;var a=e;t=a.errorCallback,e=a.attribLocations,n=a.transformFeedbackVaryings}var o={errorCallback:t||f,transformFeedbackVaryings:n};if(e){var i={};Array.isArray(e)?e.forEach(function(e,t){i[e]=r?r[t]:t}):i=e,o.attribLocations=i}return o}var U=["VERTEX_SHADER","FRAGMENT_SHADER"];function w(e){return e.indexOf("frag")>=0?g.FRAGMENT_SHADER:e.indexOf("vert")>=0?g.VERTEX_SHADER:void 0}function O(e,r){r.forEach(function(r){e.deleteShader(r)})}function B(e,r,t,n,a){for(var i=F(t,n,a),u=[],f=[],s=0;s<r.length;++s){var l=r[s];if("string"==typeof l){var m=c(l),p=m?m.text:l,d=e[U[s]];m&&m.type&&(d=w(m.type)||d),l=P(e,p,d,i.errorCallback),f.push(l)}o.isShader(e,l)&&u.push(l)}if(u.length!==r.length)return i.errorCallback("not enough shaders for program"),O(e,f),null;var y=e.createProgram();u.forEach(function(r){e.attachShader(y,r)}),i.attribLocations&&Object.keys(i.attribLocations).forEach(function(r){e.bindAttribLocation(y,i.attribLocations[r],r)});var b=i.transformFeedbackVaryings;if(b&&(b.attribs&&(b=b.attribs),Array.isArray(b)||(b=Object.keys(b)),e.transformFeedbackVaryings(y,b,i.transformFeedbackMode||e.SEPARATE_ATTRIBS)),e.linkProgram(y),!e.getProgramParameter(y,e.LINK_STATUS)){var v=e.getProgramInfoLog(y);return i.errorCallback("Error in program linking:"+v),e.deleteProgram(y),O(e,f),null}return y}function I(e,r,t,n){var a,o=c(r);if(!o)throw"*** Error: unknown script element"+r;a=o.text;var i=t||w(o.type);if(!i)throw"*** Error: unknown shader type";return P(e,a,i,n)}function S(e,r,t,n,a){for(var o=F(t,n,a),i=[],u=0;u<r.length;++u){var f=P(e,r[u],e[U[u]],o.errorCallback);if(!f)return null;i.push(f)}return B(e,i,o)}function C(e){var r=e.name;return r.startsWith("gl_")||r.startsWith("webgl_")}function M(e,r){var t=0;function n(r,n){var a,o=e.getUniformLocation(r,n.name),i=n.size>1&&"[0]"===n.name.substr(-3),u=n.type,f=l[u];if(!f)throw"unknown type: 0x"+u.toString(16);if(f.bindPoint){var s=t;t+=n.size,a=i?f.arraySetter(e,u,s,o,n.size):f.setter(e,u,s,o,n.size)}else a=f.arraySetter&&i?f.arraySetter(e,o):f.setter(e,o);return a.location=o,a}for(var a={},o=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),i=0;i<o;++i){var u=e.getActiveUniform(r,i);if(!C(u)){var f=u.name;"[0]"===f.substr(-3)&&(f=f.substr(0,f.length-3));var s=n(r,u);a[f]=s}}return a}function D(e,r){for(var t={},n=e.getProgramParameter(r,e.TRANSFORM_FEEDBACK_VARYINGS),a=0;a<n;++a){var o=e.getTransformFeedbackVarying(r,a);t[o.name]={index:a,type:o.type,size:o.size}}return t}function N(e,r,t){for(var n in r.transformFeedbackInfo&&(r=r.transformFeedbackInfo),t.attribs&&(t=t.attribs),t){var a=r[n];if(a){var o=t[n];o.offset?e.bindBufferRange(e.TRANSFORM_FEEDBACK_BUFFER,a.index,o.buffer,o.offset,o.size):e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,a.index,o.buffer)}}}function L(e,r){for(var t=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),n=[],a=[],o=0;o<t;++o){a.push(o),n.push({});var i=e.getActiveUniform(r,o);if(C(i))break;n[o].name=i.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(t){var o=t[0],i=t[1];e.getActiveUniforms(r,a,e[o]).forEach(function(e,r){n[r][i]=e})});for(var u={},f=e.getProgramParameter(r,e.ACTIVE_UNIFORM_BLOCKS),s=0;s<f;++s){var c=e.getActiveUniformBlockName(r,s),l={index:s,usedByVertexShader:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_DATA_SIZE),uniformIndices:e.getActiveUniformBlockParameter(r,s,e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};l.used=l.usedByVertexSahder||l.usedByFragmentShader,u[c]=l}return{blockSpecs:u,uniformData:n}}var k=/\[\d+\]\.$/;function j(e,r,t,n){var a=t.blockSpecs,o=t.uniformData,i=a[n];if(!i)return s("no uniform block object named:",n),{name:n,uniforms:{}};var u=new ArrayBuffer(i.size),f=e.createBuffer(),c=i.index;e.bindBuffer(e.UNIFORM_BUFFER,f),e.uniformBlockBinding(r,i.index,c);var m=n+".";k.test(m)&&(m=m.replace(k,"."));var p={};return i.uniformIndices.forEach(function(e){var r=o[e],t=l[r.type],n=t.Type,a=r.size*t.size,i=r.name;i.substr(0,m.length)===m&&(i=i.substr(m.length)),p[i]=new n(u,r.offset,a/n.BYTES_PER_ELEMENT)}),{name:n,array:u,asFloat:new Float32Array(u),buffer:f,uniforms:p}}function z(e,r,t){var n=(r.uniformBlockSpec||r).blockSpecs[t.name];if(n){var a=n.index;return e.bindBufferRange(e.UNIFORM_BUFFER,a,t.buffer,t.offset||0,t.array.byteLength),!0}return!1}function G(e,r){for(var t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),a=0;a<n;++a){var o=e.getActiveAttrib(r,a);if(!C(o)){var i=e.getAttribLocation(r,o.name),u=x[o.type],f=u.setter(e,i,u);f.location=i,t[o.name]=f}}return t}function X(e,r){for(var t in r){var n=e[t];n&&n(r[t])}}function V(e,r){var t={program:r,uniformSetters:M(e,r),attribSetters:G(e,r)};return a.isWebGL2(e)&&(t.uniformBlockSpec=L(e,r),t.transformFeedbackInfo=D(e,r)),t}},function(e,r,t){"use strict";r.__esModule=!0,r.axisRotate=function(e,r,t,n){n=n||new a(16);var o=r[0],i=r[1],u=r[2],f=Math.sqrt(o*o+i*i+u*u),s=(o/=f)*o,c=(i/=f)*i,l=(u/=f)*u,m=Math.cos(t),p=Math.sin(t),d=1-m,y=s+(1-s)*m,b=o*i*d+u*p,v=o*u*d-i*p,E=o*i*d-u*p,h=c+(1-c)*m,_=i*u*d+o*p,A=o*u*d+i*p,T=i*u*d-o*p,x=l+(1-l)*m,g=e[0],R=e[1],P=e[2],F=e[3],U=e[4],w=e[5],O=e[6],B=e[7],I=e[8],S=e[9],C=e[10],M=e[11];n[0]=y*g+b*U+v*I,n[1]=y*R+b*w+v*S,n[2]=y*P+b*O+v*C,n[3]=y*F+b*B+v*M,n[4]=E*g+h*U+_*I,n[5]=E*R+h*w+_*S,n[6]=E*P+h*O+_*C,n[7]=E*F+h*B+_*M,n[8]=A*g+T*U+x*I,n[9]=A*R+T*w+x*S,n[10]=A*P+T*O+x*C,n[11]=A*F+T*B+x*M,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]);return n},r.axisRotation=function(e,r,t){t=t||new a(16);var n=e[0],o=e[1],i=e[2],u=Math.sqrt(n*n+o*o+i*i),f=(n/=u)*n,s=(o/=u)*o,c=(i/=u)*i,l=Math.cos(r),m=Math.sin(r),p=1-l;return t[0]=f+(1-f)*l,t[1]=n*o*p+i*m,t[2]=n*i*p-o*m,t[3]=0,t[4]=n*o*p-i*m,t[5]=s+(1-s)*l,t[6]=o*i*p+n*m,t[7]=0,t[8]=n*i*p+o*m,t[9]=o*i*p-n*m,t[10]=c+(1-c)*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},r.copy=f,r.frustum=function(e,r,t,n,o,i,u){u=u||new a(16);var f=r-e,s=n-t,c=o-i;return u[0]=2*o/f,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*o/s,u[6]=0,u[7]=0,u[8]=(e+r)/f,u[9]=(n+t)/s,u[10]=i/c,u[11]=-1,u[12]=0,u[13]=0,u[14]=o*i/c,u[15]=0,u},r.getAxis=function(e,r,t){t=t||n.create();var a=4*r;return t[0]=e[a+0],t[1]=e[a+1],t[2]=e[a+2],t},r.getTranslation=function(e,r){return(r=r||n.create())[0]=e[12],r[1]=e[13],r[2]=e[14],r},r.identity=s,r.inverse=c,r.lookAt=function(e,r,t,f){f=f||new a(16);var s=o,c=i,l=u;return n.normalize(n.subtract(e,r,l),l),n.normalize(n.cross(t,l,s),s),n.normalize(n.cross(l,s,c),c),f[0]=s[0],f[1]=s[1],f[2]=s[2],f[3]=0,f[4]=c[0],f[5]=c[1],f[6]=c[2],f[7]=0,f[8]=l[0],f[9]=l[1],f[10]=l[2],f[11]=0,f[12]=e[0],f[13]=e[1],f[14]=e[2],f[15]=1,f},r.multiply=function(e,r,t){t=t||new a(16);var n=e[0],o=e[1],i=e[2],u=e[3],f=e[4],s=e[5],c=e[6],l=e[7],m=e[8],p=e[9],d=e[10],y=e[11],b=e[12],v=e[13],E=e[14],h=e[15],_=r[0],A=r[1],T=r[2],x=r[3],g=r[4],R=r[5],P=r[6],F=r[7],U=r[8],w=r[9],O=r[10],B=r[11],I=r[12],S=r[13],C=r[14],M=r[15];return t[0]=n*_+f*A+m*T+b*x,t[1]=o*_+s*A+p*T+v*x,t[2]=i*_+c*A+d*T+E*x,t[3]=u*_+l*A+y*T+h*x,t[4]=n*g+f*R+m*P+b*F,t[5]=o*g+s*R+p*P+v*F,t[6]=i*g+c*R+d*P+E*F,t[7]=u*g+l*R+y*P+h*F,t[8]=n*U+f*w+m*O+b*B,t[9]=o*U+s*w+p*O+v*B,t[10]=i*U+c*w+d*O+E*B,t[11]=u*U+l*w+y*O+h*B,t[12]=n*I+f*S+m*C+b*M,t[13]=o*I+s*S+p*C+v*M,t[14]=i*I+c*S+d*C+E*M,t[15]=u*I+l*S+y*C+h*M,t},r.negate=function(e,r){return(r=r||new a(16))[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r[4]=-e[4],r[5]=-e[5],r[6]=-e[6],r[7]=-e[7],r[8]=-e[8],r[9]=-e[9],r[10]=-e[10],r[11]=-e[11],r[12]=-e[12],r[13]=-e[13],r[14]=-e[14],r[15]=-e[15],r},r.ortho=function(e,r,t,n,o,i,u){return(u=u||new a(16))[0]=2/(r-e),u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2/(n-t),u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2/(o-i),u[11]=0,u[12]=(r+e)/(e-r),u[13]=(n+t)/(t-n),u[14]=(i+o)/(o-i),u[15]=1,u},r.perspective=function(e,r,t,n,o){o=o||new a(16);var i=Math.tan(.5*Math.PI-.5*e),u=1/(t-n);return o[0]=i/r,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=i,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(t+n)*u,o[11]=-1,o[12]=0,o[13]=0,o[14]=t*n*u*2,o[15]=0,o},r.rotateX=function(e,r,t){t=t||new a(16);var n=e[4],o=e[5],i=e[6],u=e[7],f=e[8],s=e[9],c=e[10],l=e[11],m=Math.cos(r),p=Math.sin(r);t[4]=m*n+p*f,t[5]=m*o+p*s,t[6]=m*i+p*c,t[7]=m*u+p*l,t[8]=m*f-p*n,t[9]=m*s-p*o,t[10]=m*c-p*i,t[11]=m*l-p*u,e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotateY=function(e,r,t){t=t||new a(16);var n=e[0],o=e[1],i=e[2],u=e[3],f=e[8],s=e[9],c=e[10],l=e[11],m=Math.cos(r),p=Math.sin(r);t[0]=m*n-p*f,t[1]=m*o-p*s,t[2]=m*i-p*c,t[3]=m*u-p*l,t[8]=m*f+p*n,t[9]=m*s+p*o,t[10]=m*c+p*i,t[11]=m*l+p*u,e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotateZ=function(e,r,t){t=t||new a(16);var n=e[0],o=e[1],i=e[2],u=e[3],f=e[4],s=e[5],c=e[6],l=e[7],m=Math.cos(r),p=Math.sin(r);t[0]=m*n+p*f,t[1]=m*o+p*s,t[2]=m*i+p*c,t[3]=m*u+p*l,t[4]=m*f-p*n,t[5]=m*s-p*o,t[6]=m*c-p*i,t[7]=m*l-p*u,e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.rotationX=function(e,r){r=r||new a(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t,r[6]=n,r[7]=0,r[8]=0,r[9]=-n,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationY=function(e,r){r=r||new a(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=0,r[2]=-n,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=n,r[9]=0,r[10]=t,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.rotationZ=function(e,r){r=r||new a(16);var t=Math.cos(e),n=Math.sin(e);return r[0]=t,r[1]=n,r[2]=0,r[3]=0,r[4]=-n,r[5]=t,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.scale=function(e,r,t){t=t||new a(16);var n=r[0],o=r[1],i=r[2];t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=n*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=o*e[6],t[7]=o*e[7],t[8]=i*e[8],t[9]=i*e[9],t[10]=i*e[10],t[11]=i*e[11],e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t},r.scaling=function(e,r){return(r=r||new a(16))[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},r.setAxis=function(e,r,t,n){n!==e&&(n=f(e,n));var a=4*t;return n[a+0]=r[0],n[a+1]=r[1],n[a+2]=r[2],n},r.setDefaultType=function(e){var r=a;return a=e,r},r.setTranslation=function(e,r,t){t=t||s(),e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]);return t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},r.transformDirection=function(e,r,t){t=t||n.create();var a=r[0],o=r[1],i=r[2];return t[0]=a*e[0]+o*e[4]+i*e[8],t[1]=a*e[1]+o*e[5]+i*e[9],t[2]=a*e[2]+o*e[6]+i*e[10],t},r.transformNormal=function(e,r,t){t=t||n.create();var a=c(e),o=r[0],i=r[1],u=r[2];return t[0]=o*a[0]+i*a[1]+u*a[2],t[1]=o*a[4]+i*a[5]+u*a[6],t[2]=o*a[8]+i*a[9]+u*a[10],t},r.transformPoint=function(e,r,t){t=t||n.create();var a=r[0],o=r[1],i=r[2],u=a*e[3]+o*e[7]+i*e[11]+e[15];return t[0]=(a*e[0]+o*e[4]+i*e[8]+e[12])/u,t[1]=(a*e[1]+o*e[5]+i*e[9]+e[13])/u,t[2]=(a*e[2]+o*e[6]+i*e[10]+e[14])/u,t},r.translate=function(e,r,t){t=t||new a(16);var n=r[0],o=r[1],i=r[2],u=e[0],f=e[1],s=e[2],c=e[3],l=e[4],m=e[5],p=e[6],d=e[7],y=e[8],b=e[9],v=e[10],E=e[11],h=e[12],_=e[13],A=e[14],T=e[15];e!==t&&(t[0]=u,t[1]=f,t[2]=s,t[3]=c,t[4]=l,t[5]=m,t[6]=p,t[7]=d,t[8]=y,t[9]=b,t[10]=v,t[11]=E);return t[12]=u*n+l*o+y*i+h,t[13]=f*n+m*o+b*i+_,t[14]=s*n+p*o+v*i+A,t[15]=c*n+d*o+E*i+T,t},r.translation=function(e,r){return(r=r||new a(16))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r},r.transpose=function(e,r){if((r=r||new a(16))===e){var t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,r}var n=e[0],o=e[1],i=e[2],u=e[3],f=e[4],s=e[5],c=e[6],l=e[7],m=e[8],p=e[9],d=e[10],y=e[11],b=e[12],v=e[13],E=e[14],h=e[15];return r[0]=n,r[1]=f,r[2]=m,r[3]=b,r[4]=o,r[5]=s,r[6]=p,r[7]=v,r[8]=i,r[9]=c,r[10]=d,r[11]=E,r[12]=u,r[13]=l,r[14]=y,r[15]=h,r};var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}(t(3));var a=Float32Array,o=n.create(),i=n.create(),u=n.create();function f(e,r){return(r=r||new a(16))[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function s(e){return(e=e||new a(16))[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function c(e,r){r=r||new a(16);var t=e[0],n=e[1],o=e[2],i=e[3],u=e[4],f=e[5],s=e[6],c=e[7],l=e[8],m=e[9],p=e[10],d=e[11],y=e[12],b=e[13],v=e[14],E=e[15],h=p*E,_=v*d,A=s*E,T=v*c,x=s*d,g=p*c,R=o*E,P=v*i,F=o*d,U=p*i,w=o*c,O=s*i,B=l*b,I=y*m,S=u*b,C=y*f,M=u*m,D=l*f,N=t*b,L=y*n,k=t*m,j=l*n,z=t*f,G=u*n,X=h*f+T*m+x*b-(_*f+A*m+g*b),V=_*n+R*m+U*b-(h*n+P*m+F*b),Y=A*n+P*f+w*b-(T*n+R*f+O*b),W=g*n+F*f+O*m-(x*n+U*f+w*m),K=1/(t*X+u*V+l*Y+y*W);return r[0]=K*X,r[1]=K*V,r[2]=K*Y,r[3]=K*W,r[4]=K*(_*u+A*l+g*y-(h*u+T*l+x*y)),r[5]=K*(h*t+P*l+F*y-(_*t+R*l+U*y)),r[6]=K*(T*t+R*u+O*y-(A*t+P*u+w*y)),r[7]=K*(x*t+U*u+w*l-(g*t+F*u+O*l)),r[8]=K*(B*c+C*d+M*E-(I*c+S*d+D*E)),r[9]=K*(I*i+N*d+j*E-(B*i+L*d+k*E)),r[10]=K*(S*i+L*c+z*E-(C*i+N*c+G*E)),r[11]=K*(D*i+k*c+G*d-(M*i+j*c+z*d)),r[12]=K*(S*p+D*v+I*s-(M*v+B*s+C*p)),r[13]=K*(k*v+B*o+L*p-(N*p+j*v+I*o)),r[14]=K*(N*s+G*v+C*o-(z*v+S*o+L*s)),r[15]=K*(z*p+M*o+j*s-(k*s+G*p+D*o)),r}},function(e,r,t){"use strict";r.__esModule=!0,r.createAttribsFromArrays=b,r.createBuffersFromArrays=function(e,r){var t={};Object.keys(r).forEach(function(n){t[n]=E(e,r[n],n)}),r.indices?(t.numElements=r.indices.length,t.elementType=n.getGLTypeForTypedArray(y(r.indices),"indices")):t.numElements=function(e){for(var r,t=0;t<v.length&&!((r=v[t])in e);++t);ii===v.length&&(r=Object.keys(e)[0]);var n=e[r],a=c(n).length,o=d(n,r),i=a/o;if(a%o>0)throw"numComponents "+o+" not correct for length "+a;return i}(r);return t},r.createBufferFromArray=E,r.createBufferFromTypedArray=f,r.createBufferInfoFromArrays=function(e,r){var t={attribs:b(e,r)},a=r.indices;if(a){var o=y(a,"indices");t.indices=f(e,o,e.ELEMENT_ARRAY_BUFFER),t.numElements=o.length,t.elementType=n.getGLTypeForTypedArray(o)}else t.numElements=function(e,r){var t,n;for(n=0;n<v.length&&!((t=v[n])in r)&&!((t=i.attribPrefix+t)in r);++n);n===v.length&&(t=Object.keys(r)[0]);var a=r[t];e.bindBuffer(e.ARRAY_BUFFER,a.buffer);var o=e.getBufferParameter(e.ARRAY_BUFFER,e.BUFFER_SIZE);e.bindBuffer(e.ARRAY_BUFFER,null);var u=function(e,r){return r===e.BYTE?1:r===e.UNSIGNED_BYTE?1:r===e.SHORT?2:r===e.UNSIGNED_SHORT?2:r===e.INT?4:r===e.UNSIGNED_INT?4:r===e.FLOAT?4:0}(e,a.type),f=o/u,s=a.numComponents||a.size,c=f/s;if(c%1!=0)throw"numComponents "+s+" not correct for length "+length;return c}(e,t.attribs);return t},r.setAttribInfoBufferFromArray=function(e,r,t,n){t=y(t),void 0!==n?(e.bindBuffer(e.ARRAY_BUFFER,r.buffer),e.bufferSubData(e.ARRAY_BUFFER,n,t)):u(e,e.ARRAY_BUFFER,r.buffer,t,r.drawType)},r.setAttributePrefix=function(e){i.attribPrefix=e},r.setAttributeDefaults_=function(e){a.copyExistingProperties(e,i)},r.getNumComponents_=d,r.getArray_=c;var n=o(t(1)),a=o(t(0));function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var i={attribPrefix:""};function u(e,r,t,n,a){e.bindBuffer(r,t),e.bufferData(r,n,a||e.STATIC_DRAW)}function f(e,r,t,n){if(a.isBuffer(e,r))return r;t=t||e.ARRAY_BUFFER;var o=e.createBuffer();return u(e,t,o,r,n),o}function s(e){return"indices"===e}function c(e){return e.length?e:e.data}var l=/coord|texture/i,m=/color|colour/i;function p(e,r){var t;if(r%(t=l.test(e)?2:m.test(e)?4:3)>0)throw"Can not guess numComponents for attribute '"+e+"'. Tried "+t+" but "+r+" values is not evenly divisible by "+t+". You should specify it.";return t}function d(e,r){return e.numComponents||e.size||p(r,c(e).length)}function y(e,r){if(n.isArrayBuffer(e))return e;if(n.isArrayBuffer(e.data))return e.data;Array.isArray(e)&&(e={data:e});var t=e.type;return t||(t=s(r)?Uint16Array:Float32Array),new t(e.data)}function b(e,r){var t={};return Object.keys(r).forEach(function(a){if(!s(a)){var o,u,c,l,m,b=r[a],v=b.attrib||b.name||b.attribName||i.attribPrefix+a;if("number"==typeof b||"number"==typeof b.data){m=b.data||b;var E=b.type||Float32Array,h=m*E.BYTES_PER_ELEMENT;u=n.getGLTypeForTypedArrayType(E),c=void 0!==b.normalize?b.normalize:(A=E)===Int8Array||A===Uint8Array,l=b.numComponents||b.size||p(a,m),o=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,h,b.drawType||e.STATIC_DRAW)}else{var _=y(b,a);o=f(e,_,void 0,b.drawType),u=n.getGLTypeForTypedArray(_),c=void 0!==b.normalize?b.normalize:function(e){return e instanceof Int8Array||e instanceof Uint8Array}(_),l=d(b,a),m=_.length}t[v]={buffer:o,numComponents:l,type:u,normalize:c,stride:b.stride||0,offset:b.offset||0,divisor:void 0===b.divisor?void 0:b.divisor,drawType:b.drawType}}var A}),e.bindBuffer(e.ARRAY_BUFFER,null),t}var v=["position","positions","a_position"];function E(e,r,t){var n="indices"===t?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;return f(e,y(r,t),n)}},function(e,r,t){"use strict";r.__esModule=!0,r.setTextureDefaults_=function(e){i.copyExistingProperties(e,s),e.textureColor&&x(e.textureColor)},r.createSampler=I,r.createSamplers=function(e,r){var t={};return Object.keys(r).forEach(function(n){t[n]=I(e,r[n])}),t},r.setSamplerParameters=B,r.createTexture=K,r.setEmptyTexture=W,r.setTextureFromArray=Y,r.loadTextureFromUrl=G,r.setTextureFromElement=N,r.setTextureFilteringForSize=S,r.setTextureParameters=O,r.setDefaultTextureColor=x,r.createTextures=function(e,r,t){t=t||L;var n=0,a=[],o={},i={};function u(){0===n&&setTimeout(function(){t(a.length?a:void 0,o,i)},0)}return Object.keys(r).forEach(function(t){var f,s,c=r[t];("string"==typeof(s=c.src)||Array.isArray(s)&&"string"==typeof s[0])&&(f=function(e,r,o){i[t]=o,--n,e&&a.push(e),u()},++n),o[t]=K(e,c,f)}),u(),o},r.resizeTexture=function(e,r,t,n,a){n=n||t.width,a=a||t.height;var o=t.target||e.TEXTURE_2D;e.bindTexture(o,r);var i,u=t.level||0,f=t.internalFormat||t.format||e.RGBA,s=h(f),l=t.format||s.format,m=t.src;i=m&&(c(m)||Array.isArray(m)&&"number"==typeof m[0])?t.type||A(e,m,s.type):t.type||s.type;if(o===e.TEXTURE_CUBE_MAP)for(var p=0;p<6;++p)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+p,u,f,n,a,0,l,i,null);else e.texImage2D(o,u,f,n,a,0,l,i,null)},r.getNumComponentsForFormat=function(e){var r=d[e];if(!r)throw"unknown format: "+e;return r.numColorComponents},r.getBytesPerElementForInternalFormat=E;var n,a=f(t(4)),o=f(t(1)),i=f(t(0)),u=(n=t(2))&&n.__esModule?n:{default:n};function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var s={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0},c=o.isArrayBuffer,l=u.default.document&&u.default.document.createElement?u.default.document.createElement("canvas").getContext("2d"):null,m=6407,p=33319,d={},y=d;y[6406]={numColorComponents:1},y[6409]={numColorComponents:1},y[6410]={numColorComponents:2},y[m]={numColorComponents:3},y[6408]={numColorComponents:4},y[6403]={numColorComponents:1},y[36244]={numColorComponents:1},y[p]={numColorComponents:2},y[33320]={numColorComponents:2},y[m]={numColorComponents:3},y[36248]={numColorComponents:3},y[6408]={numColorComponents:4},y[36249]={numColorComponents:4},y[6402]={numColorComponents:1},y[34041]={numColorComponents:2};var b={},v=b;function E(e,r){var t=b[e];if(!t)throw"unknown internal format";var n=t.bytesPerElementMap[r];if(void 0===n)throw"unknown internal format";return n}function h(e){var r=b[e];if(!r)throw"unknown internal format";return{format:r.textureFormat,type:Array.isArray(r.type)?r.type[0]:r.type}}function _(e){return 0==(e&e-1)}function A(e,r,t){return c(r)?o.getGLTypeForTypedArray(r):t||e.UNSIGNED_BYTE}function T(e,r,t,n,a){if(a%1!=0)throw"can't guess dimensions";if(t||n){if(n){if(!t&&(t=a/n)%1)throw"can't guess dimensions"}else if((n=a/t)%1)throw"can't guess dimensions"}else{var o=Math.sqrt(a/(r===e.TEXTURE_CUBE_MAP?6:1));o%1==0?(t=o,n=o):(t=a,n=1)}return{width:t,height:n}}function x(e){s.textureColor=new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}v[6406]={textureFormat:6406,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},v[6409]={textureFormat:6409,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[1,2,2,4],type:[5121,5131,36193,5126]},v[6410]={textureFormat:6410,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[2,4,4,8],type:[5121,5131,36193,5126]},v[m]={textureFormat:m,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,6,6,12,2],type:[5121,5131,36193,5126,33635]},v[6408]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,8,8,16,2,2],type:[5121,5131,36193,5126,32819,32820]},v[33321]={textureFormat:6403,colorRenderable:!0,textureFilterable:!0,bytesPerElement:1,type:5121},v[36756]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:1,type:5120},v[33325]={textureFormat:6403,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[4,2],type:[5126,5131]},v[33326]={textureFormat:6403,colorRenderable:!1,textureFilterable:!1,bytesPerElement:4,type:5126},v[33330]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:1,type:5121},v[33329]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:1,type:5120},v[33332]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5123},v[33331]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5122},v[33334]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5125},v[33333]={textureFormat:36244,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5124},v[33323]={textureFormat:p,colorRenderable:!0,textureFilterable:!0,bytesPerElement:2,type:5121},v[36757]={textureFormat:p,colorRenderable:!1,textureFilterable:!0,bytesPerElement:2,type:5120},v[33327]={textureFormat:p,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[8,4],type:[5126,5131]},v[33328]={textureFormat:p,colorRenderable:!1,textureFilterable:!1,bytesPerElement:8,type:5126},v[33336]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5121},v[33335]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:2,type:5120},v[33338]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5123},v[33337]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5122},v[33340]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5125},v[33339]={textureFormat:33320,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5124},v[32849]={textureFormat:m,colorRenderable:!0,textureFilterable:!0,bytesPerElement:3,type:5121},v[35905]={textureFormat:m,colorRenderable:!1,textureFilterable:!0,bytesPerElement:3,type:5121},v[36194]={textureFormat:m,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[3,2],type:[5121,33635]},v[36758]={textureFormat:m,colorRenderable:!1,textureFilterable:!0,bytesPerElement:3,type:5120},v[35898]={textureFormat:m,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35899]},v[35901]={textureFormat:m,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6,4],type:[5126,5131,35902]},v[34843]={textureFormat:m,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[12,6],type:[5126,5131]},v[34837]={textureFormat:m,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:5126},v[36221]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:3,type:5121},v[36239]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:3,type:5120},v[36215]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:6,type:5123},v[36233]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:6,type:5122},v[36209]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:5125},v[36227]={textureFormat:36248,colorRenderable:!1,textureFilterable:!1,bytesPerElement:12,type:5124},v[32856]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:5121},v[35907]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:5121},v[36759]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:4,type:5120},v[32855]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2,4],type:[5121,32820,33640]},v[32854]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:[4,2],type:[5121,32819]},v[32857]={textureFormat:6408,colorRenderable:!0,textureFilterable:!0,bytesPerElement:4,type:33640},v[34842]={textureFormat:6408,colorRenderable:!1,textureFilterable:!0,bytesPerElement:[16,8],type:[5126,5131]},v[34836]={textureFormat:6408,colorRenderable:!1,textureFilterable:!1,bytesPerElement:16,type:5126},v[36220]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5121},v[36238]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5120},v[36975]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:33640},v[36214]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5123},v[36232]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:8,type:5122},v[36226]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:16,type:5124},v[36208]={textureFormat:36249,colorRenderable:!0,textureFilterable:!1,bytesPerElement:16,type:5125},v[33189]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:[2,4],type:[5123,5125]},v[33190]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5125},v[36012]={textureFormat:6402,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:5126},v[35056]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:34042},v[36013]={textureFormat:34041,colorRenderable:!0,textureFilterable:!1,bytesPerElement:4,type:36269},Object.keys(v).forEach(function(e){var r=v[e];if(r.bytesPerElementMap={},Array.isArray(r.bytesPerElement))r.bytesPerElement.forEach(function(e,t){var n=r.type[t];r.bytesPerElementMap[n]=e});else{var t=r.type;r.bytesPerElementMap[t]=r.bytesPerElement}});var g={};function R(e,r){void 0!==r.colorspaceConversion&&(g.colorspaceConversion=e.getParameter(e.UNPACK_COLORSPACE_CONVERSION_WEBGL),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.colorspaceConversion)),void 0!==r.premultiplyAlpha&&(g.premultiplyAlpha=e.getParameter(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha)),void 0!==r.flipY&&(g.flipY=e.getParameter(e.UNPACK_FLIP_Y_WEBGL),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY))}function P(e,r){void 0!==r.colorspaceConversion&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,g.colorspaceConversion),void 0!==r.premultiplyAlpha&&e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,g.premultiplyAlpha),void 0!==r.flipY&&e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,g.flipY)}function F(e){g.unpackAlignment=e.getParameter(e.UNPACK_ALIGNMENT),a.isWebGL2(e)&&(g.unpackRowLength=e.getParameter(e.UNPACK_ROW_LENGTH),g.unpackImageHeight=e.getParameter(e.UNPACK_IMAGE_HEIGHT),g.unpackSkipPixels=e.getParameter(e.UNPACK_SKIP_PIXELS),g.unpackSkipRows=e.getParameter(e.UNPACK_SKIP_ROWS),g.unpackSkipImages=e.getParameter(e.UNPACK_SKIP_IMAGES))}function U(e){e.pixelStorei(e.UNPACK_ALIGNMENT,g.unpackAlignment),a.isWebGL2(e)&&(e.pixelStorei(e.UNPACK_ROW_LENGTH,g.unpackRowLength),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,g.unpackImageHeight),e.pixelStorei(e.UNPACK_SKIP_PIXELS,g.unpackSkipPixels),e.pixelStorei(e.UNPACK_SKIP_ROWS,g.unpackSkipRows),e.pixelStorei(e.UNPACK_SKIP_IMAGES,g.unpackSkipImages))}function w(e,r,t,n){n.minMag&&(t.call(e,r,e.TEXTURE_MIN_FILTER,n.minMag),t.call(e,r,e.TEXTURE_MAG_FILTER,n.minMag)),n.min&&t.call(e,r,e.TEXTURE_MIN_FILTER,n.min),n.mag&&t.call(e,r,e.TEXTURE_MAG_FILTER,n.mag),n.wrap&&(t.call(e,r,e.TEXTURE_WRAP_S,n.wrap),t.call(e,r,e.TEXTURE_WRAP_T,n.wrap),(r===e.TEXTURE_3D||i.isSampler(e,r))&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrap)),n.wrapR&&t.call(e,r,e.TEXTURE_WRAP_R,n.wrapR),n.wrapS&&t.call(e,r,e.TEXTURE_WRAP_S,n.wrapS),n.wrapT&&t.call(e,r,e.TEXTURE_WRAP_T,n.wrapT),n.minLod&&t.call(e,r,e.TEXTURE_MIN_LOD,n.minLod),n.maxLod&&t.call(e,r,e.TEXTURE_MAX_LOD,n.maxLod),n.baseLevel&&t.call(e,r,e.TEXTURE_BASE_LEVEL,n.baseLevel),n.maxLevel&&t.call(e,r,e.TEXTURE_MAX_LEVEL,n.maxLevel)}function O(e,r,t){var n=t.target||e.TEXTURE_2D;e.bindTexture(n,r),w(e,n,e.texParameteri,t)}function B(e,r,t){w(e,r,e.samplerParameteri,t)}function I(e,r){var t=e.createSampler();return B(e,t,r),t}function S(e,r,t,n,o,i,u){t=t||s.textureOptions,i=i||e.RGBA,u=u||e.UNSIGNED_BYTE;var f=t.target||e.TEXTURE_2D;if(n=n||t.width,o=o||t.height,e.bindTexture(f,r),function(e,r,t,n){if(!a.isWebGL2(e))return _(r)&&_(t);var o=b[n];if(!o)throw"unknown internal format";return o.colorRenderable&&o.textureFilterable}(e,n,o,i))e.generateMipmap(f);else{var c=function(e){var r=b[e];if(!r)throw"unknown internal format";return r.textureFilterable}(i)?e.LINEAR:e.NEAREST;e.texParameteri(f,e.TEXTURE_MIN_FILTER,c),e.texParameteri(f,e.TEXTURE_MAG_FILTER,c),e.texParameteri(f,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(f,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}function C(e){return!0===e.auto||void 0===e.auto&&void 0===e.level}function M(e,r){return(r=r||{}).cubeFaceOrder||[e.TEXTURE_CUBE_MAP_POSITIVE_X,e.TEXTURE_CUBE_MAP_NEGATIVE_X,e.TEXTURE_CUBE_MAP_POSITIVE_Y,e.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.TEXTURE_CUBE_MAP_POSITIVE_Z,e.TEXTURE_CUBE_MAP_NEGATIVE_Z]}function D(e,r){var t=M(e,r).map(function(e,r){return{face:e,ndx:r}});return t.sort(function(e,r){return e.face-r.face}),t}function N(e,r,t,n){var a=(n=n||s.textureOptions).target||e.TEXTURE_2D,o=n.level||0,i=t.width,f=t.height,c=n.internalFormat||n.format||e.RGBA,m=h(c),p=n.format||m.format,d=n.type||m.type;if(R(e,n),e.bindTexture(a,r),a===e.TEXTURE_CUBE_MAP){var y,b,v=t.width,E=t.height;if(v/6===E)y=E,b=[0,0,1,0,2,0,3,0,4,0,5,0];else if(E/6===v)y=v,b=[0,0,0,1,0,2,0,3,0,4,0,5];else if(v/3==E/2)y=v/3,b=[0,0,1,0,2,0,0,1,1,1,2,1];else{if(v/2!=E/3)throw"can't figure out cube map from element: "+(t.src?t.src:t.nodeName);y=v/2,b=[0,0,1,0,0,1,1,1,0,2,1,2]}l?(l.canvas.width=y,l.canvas.height=y,i=y,f=y,D(e,n).forEach(function(r){var n=b[2*r.ndx+0]*y,a=b[2*r.ndx+1]*y;l.drawImage(t,n,a,y,y,0,0,y,y),e.texImage2D(r.face,o,c,p,d,l.canvas)}),l.canvas.width=1,l.canvas.height=1):u.default.createImageBitmap&&(i=y,f=y,D(e,n).forEach(function(s){var l=b[2*s.ndx+0]*y,m=b[2*s.ndx+1]*y;e.texImage2D(s.face,o,c,y,y,0,p,d,null),u.default.createImageBitmap(t,l,m,y,y,{premultiplyAlpha:"none",colorSpaceConversion:"none"}).then(function(t){R(e,n),e.bindTexture(a,r),e.texImage2D(s.face,o,c,p,d,t),P(e,n),C(n)&&S(e,r,n,i,f,c,d)})}))}else if(a===e.TEXTURE_3D||a===e.TEXTURE_2D_ARRAY){var _=Math.min(t.width,t.height),A=Math.max(t.width,t.height),T=A/_;if(T%1!=0)throw"can not compute 3D dimensions of element";var x=t.width===A?1:0,g=t.height===A?1:0;F(e),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.pixelStorei(e.UNPACK_ROW_LENGTH,t.width),e.pixelStorei(e.UNPACK_IMAGE_HEIGHT,0),e.pixelStorei(e.UNPACK_SKIP_IMAGES,0),e.texImage3D(a,o,c,_,_,_,0,p,d,null);for(var w=0;w<T;++w){var B=w*_*x,I=w*_*g;e.pixelStorei(e.UNPACK_SKIP_PIXELS,B),e.pixelStorei(e.UNPACK_SKIP_ROWS,I),e.texSubImage3D(a,o,0,0,w,_,_,1,p,d,t)}U(e)}else e.texImage2D(a,o,c,p,d,t);P(e,n),C(n)&&S(e,r,n,i,f,c,d),O(e,r,n)}function L(){}function k(e){return u.default.ImageBitmap&&e instanceof u.default.ImageBitmap||u.default.ImageData&&e instanceof u.default.ImageData||u.default.HTMLElement&&e instanceof u.default.HTMLElement}function j(e,r,t){return k(e)?(setTimeout(function(){t(null,e)}),e):function(e,r,t){var n;if(t=t||L,u.default.Image){n=new u.default.Image,void 0!==(r=void 0!==r?r:s.crossOrigin)&&(n.crossOrigin=r);var a=function(){n.removeEventListener("error",o),n.removeEventListener("load",f),n=null},o=function(){var r="couldn't load image: "+e;i.error(r),t(r,n),a()},f=function(){t(null,n),a()};return n.addEventListener("error",o),n.addEventListener("load",f),n.src=e,n}if(u.default.ImageBitmap){var c,l,m=function(){t(c,l)},p={};r&&(p.mode="cors"),fetch(e,p).then(function(e){if(!e.ok)throw e;return e.blob()}).then(function(e){return u.default.createImageBitmap(e,{premultiplyAlpha:"none",colorSpaceConversion:"none"})}).then(function(e){l=e,setTimeout(m)}).catch(function(e){c=e,setTimeout(m)}),n=null}return n}(e,r,t)}function z(e,r,t){var n=(t=t||s.textureOptions).target||e.TEXTURE_2D;if(e.bindTexture(n,r),!1!==t.color){var a=function(e){return e=e||s.textureColor,c(e)?e:new Uint8Array([255*e[0],255*e[1],255*e[2],255*e[3]])}(t.color);if(n===e.TEXTURE_CUBE_MAP)for(var o=0;o<6;++o)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);else n===e.TEXTURE_3D||n===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a)}}function G(e,r,t,n){return n=n||L,t=t||s.textureOptions,z(e,r,t),j((t=Object.assign({},t)).src,t.crossOrigin,function(a,o){a?n(a,r,o):(N(e,r,o,t),n(null,r,o))})}function X(e,r,t,n){n=n||L;var a=t.src;if(6!==a.length)throw"there must be 6 urls for a cubemap";var o=t.level||0,i=t.internalFormat||t.format||e.RGBA,u=h(i),f=t.format||u.format,s=t.type||e.UNSIGNED_BYTE,c=t.target||e.TEXTURE_2D;if(c!==e.TEXTURE_CUBE_MAP)throw"target must be TEXTURE_CUBE_MAP";z(e,r,t),t=Object.assign({},t);var l,m=6,p=[],d=M(e,t);l=a.map(function(a,u){return j(a,t.crossOrigin,(y=d[u],function(a,u){--m,a?p.push(a):u.width!==u.height?p.push("cubemap face img is not a square: "+u.src):(R(e,t),e.bindTexture(c,r),5===m?M(e).forEach(function(r){e.texImage2D(r,o,i,f,s,u)}):e.texImage2D(y,o,i,f,s,u),P(e,t),C(t)&&e.generateMipmap(c)),0===m&&n(p.length?p:void 0,r,l)}));var y})}function V(e,r,t,n){n=n||L;var a=t.src,o=t.internalFormat||t.format||e.RGBA,i=h(o),u=t.format||i.format,f=t.type||e.UNSIGNED_BYTE,s=t.target||e.TEXTURE_2D_ARRAY;if(s!==e.TEXTURE_3D&&s!==e.TEXTURE_2D_ARRAY)throw"target must be TEXTURE_3D or TEXTURE_2D_ARRAY";z(e,r,t),t=Object.assign({},t);var c,m=a.length,p=[],d=t.level||0,y=t.width,b=t.height,v=a.length,E=!0;c=a.map(function(a,i){return j(a,t.crossOrigin,(h=i,function(a,i){if(--m,a)p.push(a);else{if(R(e,t),e.bindTexture(s,r),E){E=!1,y=t.width||i.width,b=t.height||i.height,e.texImage3D(s,d,o,y,b,v,0,u,f,null);for(var _=0;_<v;++_)e.texSubImage3D(s,d,0,0,_,y,b,1,u,f,i)}else{var A=i;i.width===y&&i.height===b||(A=l.canvas,l.canvas.width=y,l.canvas.height=b,l.drawImage(i,0,0,y,b)),e.texSubImage3D(s,d,0,0,h,y,b,1,u,f,A),A===l.canvas&&(l.canvas.width=0,l.canvas.height=0)}P(e,t),C(t)&&e.generateMipmap(s)}0===m&&n(p.length?p:void 0,r,c)}));var h})}function Y(e,r,t,n){var i=(n=n||s.textureOptions).target||e.TEXTURE_2D;e.bindTexture(i,r);var u=n.width,f=n.height,l=n.depth,m=n.level||0,p=n.internalFormat||n.format||e.RGBA,d=h(p),y=n.format||d.format,b=n.type||A(e,t,d.type);if(c(t))t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));else{var v=o.getTypedArrayTypeForGLType(b);t=new v(t)}var _,x=E(p,b),g=t.byteLength/x;if(g%1)throw"length wrong size for format: "+a.glEnumToString(e,y);if(i===e.TEXTURE_3D)if(u||f||l)!u||f&&l?!f||u&&l?(_=T(e,i,u,f,g/l),u=_.width,f=_.height):(_=T(e,i,u,l,g/f),u=_.width,l=_.height):(_=T(e,i,f,l,g/u),f=_.width,l=_.height);else{var w=Math.cbrt(g);if(w%1!=0)throw"can't guess cube size of array of numElements: "+g;u=w,f=w,l=w}else _=T(e,i,u,f,g),u=_.width,f=_.height;if(F(e),e.pixelStorei(e.UNPACK_ALIGNMENT,n.unpackAlignment||1),R(e,n),i===e.TEXTURE_CUBE_MAP){var O=g/6*(x/t.BYTES_PER_ELEMENT);D(e,n).forEach(function(r){var n=O*r.ndx,a=t.subarray(n,n+O);e.texImage2D(r.face,m,p,u,f,0,y,b,a)})}else i===e.TEXTURE_3D?e.texImage3D(i,m,p,u,f,l,0,y,b,t):e.texImage2D(i,m,p,u,f,0,y,b,t);return P(e,n),U(e),{width:u,height:f,depth:l,type:b}}function W(e,r,t){var n=t.target||e.TEXTURE_2D;e.bindTexture(n,r);var a=t.level||0,o=t.internalFormat||t.format||e.RGBA,i=h(o),u=t.format||i.format,f=t.type||i.type;if(R(e,t),n===e.TEXTURE_CUBE_MAP)for(var s=0;s<6;++s)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,a,o,t.width,t.height,0,u,f,null);else n===e.TEXTURE_3D?e.texImage3D(n,a,o,t.width,t.height,t.depth,0,u,f,null):e.texImage2D(n,a,o,t.width,t.height,0,u,f,null);P(e,t)}function K(e,r,t){t=t||L,r=r||s.textureOptions;var n=e.createTexture(),a=r.target||e.TEXTURE_2D,o=r.width||1,i=r.height||1,u=r.internalFormat||e.RGBA,f=h(u),l=r.type||f.type;e.bindTexture(a,n),a===e.TEXTURE_CUBE_MAP&&(e.texParameteri(a,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(a,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE));var m=r.src;if(m)if("function"==typeof m&&(m=m(e,r)),"string"==typeof m)G(e,n,r,t);else if(c(m)||Array.isArray(m)&&("number"==typeof m[0]||Array.isArray(m[0])||c(m[0]))){var p=Y(e,n,m,r);o=p.width,i=p.height,l=p.type}else if(Array.isArray(m)&&("string"==typeof m[0]||k(m[0])))a===e.TEXTURE_CUBE_MAP?X(e,n,r,t):V(e,n,r,t);else{if(!k(m))throw"unsupported src type";N(e,n,m,r),o=m.width,i=m.height}else W(e,n,r);return C(r)&&S(e,n,r,o,i,u,l),O(e,n,r),n}},function(e,r,t){"use strict";r.__esModule=!0;var n={m4:!0,v3:!0,primitives:!0};r.primitives=r.v3=r.m4=void 0;var a=f(t(6));r.m4=a;var o=f(t(3));r.v3=o;var i=f(t(10));r.primitives=i;var u=t(11);function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=u[e]))})},function(e,r,t){"use strict";r.__esModule=!0,r.create3DFVertices=F,r.createAugmentedTypedArray=m,r.createCubeVertices=g,r.createPlaneVertices=A,r.createSphereVertices=T,r.createTruncatedConeVertices=R,r.createXYQuadVertices=_,r.createCresentVertices=U,r.createCylinderVertices=w,r.createTorusVertices=O,r.createDiscVertices=B,r.deindexVertices=function(e){var r=e.indices,t={},n=r.length;return Object.keys(e).filter(p).forEach(function(a){for(var o=e[a],i=o.numComponents,u=m(i,n,o.constructor),f=0;f<n;++f)for(var s=r[f],c=s*i,l=0;l<i;++l)u.push(o[c+l]);t[a]=u}),t},r.flattenNormals=function(e){if(e.indices)throw"can't flatten normals of indexed vertices. deindex them first";for(var r=e.normal,t=r.length,n=0;n<t;n+=9){var a=r[n+0],o=r[n+1],i=r[n+2],u=r[n+3],f=r[n+4],s=r[n+5],c=r[n+6],l=r[n+7],m=r[n+8],p=a+u+c,d=o+f+l,y=i+s+m,b=Math.sqrt(p*p+d*d+y*y);p/=b,d/=b,y/=b,r[n+0]=p,r[n+1]=d,r[n+2]=y,r[n+3]=p,r[n+4]=d,r[n+5]=y,r[n+6]=p,r[n+7]=d,r[n+8]=y}return e},r.makeRandomVertexColors=function(e,r){r=r||{};var t=e.position.numElements,n=m(4,t,Uint8Array),a=r.rand||function(e,r){return r<3?(t=256,Math.random()*t|0):255;var t};if(e.color=n,e.indices)for(var o=0;o<t;++o)n.push(a(o,0),a(o,1),a(o,2),a(o,3));else for(var i=r.vertsPerColor||3,u=t/i,f=0;f<u;++f)for(var s=[a(f,0),a(f,1),a(f,2),a(f,3)],c=0;c<i;++c)n.push(s);return e},r.reorientDirections=b,r.reorientNormals=v,r.reorientPositions=E,r.reorientVertices=h,r.concatVertices=function(e){for(var r,t={},n=function(n){var a=e[n];Object.keys(a).forEach(function(e){t[e]||(t[e]=[]),r||"indices"===e||(r=e);var n=a[e],o=c(n,e),i=s(n),u=i.length/o;t[e].push(u)})},a=0;a<e.length;++a)n(a);var o=t[r],i={};return Object.keys(t).forEach(function(r){var t=function(r){for(var t,n=0,a=0;a<e.length;++a){var o=e[a],i=o[r],u=s(i);n+=u.length,t&&!i.data||(t=i)}return{length:n,spec:t}}(r),n=D(t.spec,t.length);!function(r,t,n){for(var a=0,o=0,i=0;i<e.length;++i){var u=e[i],f=u[r],c=s(f);"indices"===r?(M(c,n,o,a),a+=t[i]):M(c,n,o),o+=c.length}}(r,o,s(n)),i[r]=n}),i},r.duplicateVertices=function(e){var r={};return Object.keys(e).forEach(function(t){var n=e[t],a=s(n),o=D(n,a.length);M(a,s(o),0),r[t]=o}),r},r.createDiscBuffers=r.createDiscBufferInfo=r.createTorusBuffers=r.createTorusBufferInfo=r.createCylinderBuffers=r.createCylinderBufferInfo=r.createCresentBuffers=r.createCresentBufferInfo=r.createXYQuadBuffers=r.createXYQuadBufferInfo=r.createTruncatedConeBuffers=r.createTruncatedConeBufferInfo=r.createSphereBuffers=r.createSphereBufferInfo=r.createPlaneBuffers=r.createPlaneBufferInfo=r.createCubeBuffers=r.createCubeBufferInfo=r.create3DFBuffers=r.create3DFBufferInfo=void 0;var n=f(t(7)),a=f(t(0)),o=f(t(1)),i=f(t(6)),u=f(t(3));function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var s=n.getArray_,c=n.getNumComponents_;function l(e,r){var t=0;return e.push=function(){for(var r=0;r<arguments.length;++r){var n=arguments[r];if(n instanceof Array||o.isArrayBuffer(n))for(var a=0;a<n.length;++a)e[t++]=n[a];else e[t++]=n}},e.reset=function(e){t=e||0},e.numComponents=r,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function m(e,r,t){return l(new(t||Float32Array)(e*r),e)}function p(e){return"indices"!==e}function d(e,r,t){for(var n=e.length,a=new Float32Array(3),o=0;o<n;o+=3)t(r,[e[o],e[o+1],e[o+2]],a),e[o]=a[0],e[o+1]=a[1],e[o+2]=a[2]}function y(e,r,t){t=t||u.create();var n=r[0],a=r[1],o=r[2];return t[0]=n*e[0]+a*e[1]+o*e[2],t[1]=n*e[4]+a*e[5]+o*e[6],t[2]=n*e[8]+a*e[9]+o*e[10],t}function b(e,r){return d(e,r,i.transformDirection),e}function v(e,r){return d(e,i.inverse(r),y),e}function E(e,r){return d(e,r,i.transformPoint),e}function h(e,r){return Object.keys(e).forEach(function(t){var n=e[t];t.indexOf("pos")>=0?E(n,r):t.indexOf("tan")>=0||t.indexOf("binorm")>=0?b(n,r):t.indexOf("norm")>=0&&v(n,r)}),e}function _(e,r,t){return e=e||2,{position:{numComponents:2,data:[(r=r||0)+-1*(e*=.5),(t=t||0)+-1*e,r+1*e,t+-1*e,r+-1*e,t+1*e,r+1*e,t+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function A(e,r,t,n,a){e=e||1,r=r||1,t=t||1,n=n||1,a=a||i.identity();for(var o=(t+1)*(n+1),u=m(3,o),f=m(3,o),s=m(2,o),c=0;c<=n;c++)for(var l=0;l<=t;l++){var p=l/t,d=c/n;u.push(e*p-.5*e,0,r*d-.5*r),f.push(0,1,0),s.push(p,d)}for(var y=t+1,b=m(3,t*n*2,Uint16Array),v=0;v<n;v++)for(var E=0;E<t;E++)b.push((v+0)*y+E,(v+1)*y+E,(v+0)*y+E+1),b.push((v+1)*y+E,(v+1)*y+E+1,(v+0)*y+E+1);return h({position:u,normal:f,texcoord:s,indices:b},a)}function T(e,r,t,n,a,o,i){if(r<=0||t<=0)throw Error("subdivisionAxis and subdivisionHeight must be > 0");n=n||0,a=a||Math.PI,o=o||0;for(var u=a-n,f=(i=i||2*Math.PI)-o,s=(r+1)*(t+1),c=m(3,s),l=m(3,s),p=m(2,s),d=0;d<=t;d++)for(var y=0;y<=r;y++){var b=y/r,v=d/t,E=f*b,h=u*v,_=Math.sin(E),A=Math.cos(E),T=Math.sin(h),x=A*T,g=Math.cos(h),R=_*T;c.push(e*x,e*g,e*R),l.push(x,g,R),p.push(1-b,v)}for(var P=r+1,F=m(3,r*t*2,Uint16Array),U=0;U<r;U++)for(var w=0;w<t;w++)F.push((w+0)*P+U,(w+0)*P+U+1,(w+1)*P+U),F.push((w+1)*P+U,(w+0)*P+U+1,(w+1)*P+U+1);return{position:c,normal:l,texcoord:p,indices:F}}var x=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function g(e){for(var r=(e=e||1)/2,t=[[-r,-r,-r],[+r,-r,-r],[-r,+r,-r],[+r,+r,-r],[-r,-r,+r],[+r,-r,+r],[-r,+r,+r],[+r,+r,+r]],n=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],a=[[1,0],[0,0],[0,1],[1,1]],o=m(3,24),i=m(3,24),u=m(2,24),f=m(3,12,Uint16Array),s=0;s<6;++s){for(var c=x[s],l=0;l<4;++l){var p=t[c[l]],d=n[s],y=a[l];o.push(p),i.push(d),u.push(y)}var b=4*s;f.push(b+0,b+1,b+2),f.push(b+0,b+2,b+3)}return{position:o,normal:i,texcoord:u,indices:f}}function R(e,r,t,n,a,o,i){if(n<3)throw Error("radialSubdivisions must be 3 or greater");if(a<1)throw Error("verticalSubdivisions must be 1 or greater");for(var u=void 0===o||o,f=void 0===i||i,s=(u?2:0)+(f?2:0),c=(n+1)*(a+1+s),l=m(3,c),p=m(3,c),d=m(2,c),y=m(3,n*(a+s)*2,Uint16Array),b=n+1,v=Math.atan2(e-r,t),E=Math.cos(v),h=Math.sin(v),_=a+(f?2:0),A=u?-2:0;A<=_;++A){var T=A/a,x=t*T,g=void 0;A<0?(x=0,T=1,g=e):A>a?(x=t,T=1,g=r):g=e+A/a*(r-e),-2!==A&&A!==a+2||(g=0,T=0),x-=t/2;for(var R=0;R<b;++R){var P=Math.sin(R*Math.PI*2/n),F=Math.cos(R*Math.PI*2/n);l.push(P*g,x,F*g),p.push(A<0||A>a?0:P*E,A<0?-1:A>a?1:h,A<0||A>a?0:F*E),d.push(R/n,1-T)}}for(var U=0;U<a+s;++U)for(var w=0;w<n;++w)y.push(b*(U+0)+0+w,b*(U+0)+1+w,b*(U+1)+1+w),y.push(b*(U+0)+0+w,b*(U+1)+1+w,b*(U+1)+0+w);return{position:l,normal:p,texcoord:d,indices:y}}function P(e,r){r=r||[];for(var t=[],n=0;n<e.length;n+=4){var a=e[n],o=e.slice(n+1,n+4);o.push.apply(o,r);for(var i=0;i<a;++i)t.push.apply(t,o)}return t}function F(){var e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],r=P([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),t=P([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),n=e.length/3,a={position:m(3,n),texcoord:m(2,n),normal:m(3,n),color:m(4,n,Uint8Array),indices:m(3,n/3,Uint16Array)};a.position.push(e),a.texcoord.push([.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0]),a.normal.push(r),a.color.push(t);for(var o=0;o<n;++o)a.indices.push(o);return a}function U(e,r,t,n,a,o,i){if(a<=0)throw Error("subdivisionDown must be > 0");o=o||0;var f=2,s=(i=i||1)-o,c=2*(a+1)*(2+f),l=m(3,c),p=m(3,c),d=m(2,c);function y(e,r,t){return e+(r-e)*t}function b(r,t,i,c,m,b){for(var v=0;v<=a;v++){var E=t/(f-1),h=v/a,_=2*(E-.5),A=(o+h*s)*Math.PI,T=Math.sin(A),x=Math.cos(A),g=y(e,r,T),R=_*n,P=x*e,F=T*g;l.push(R,P,F);var U=u.add(u.multiply([0,T,x],i),c);p.push(U),d.push(E*m+b,h)}}for(var v=0;v<f;v++){var E=2*(v/(f-1)-.5);b(r,v,[1,1,1],[0,0,0],1,0),b(r,v,[0,0,0],[E,0,0],0,0),b(t,v,[1,1,1],[0,0,0],1,0),b(t,v,[0,0,0],[E,0,0],0,1)}var h=m(3,2*a*(2+f),Uint16Array);function _(e,r){for(var t=0;t<a;++t)h.push(e+t+0,e+t+1,r+t+0),h.push(e+t+1,r+t+1,r+t+0)}var A=a+1;return _(0*A,4*A),_(5*A,7*A),_(6*A,2*A),_(3*A,1*A),{position:l,normal:p,texcoord:d,indices:h}}function w(e,r,t,n,a,o){return R(e,e,r,t,n,a,o)}function O(e,r,t,n,a,o){if(t<3)throw Error("radialSubdivisions must be 3 or greater");if(n<3)throw Error("verticalSubdivisions must be 3 or greater");a=a||0;for(var i=(o=o||2*Math.PI)-a,u=t+1,f=n+1,s=u*f,c=m(3,s),l=m(3,s),p=m(2,s),d=m(3,t*n*2,Uint16Array),y=0;y<f;++y)for(var b=y/n,v=b*Math.PI*2,E=Math.sin(v),h=e+E*r,_=Math.cos(v),A=_*r,T=0;T<u;++T){var x=T/t,g=a+x*i,R=Math.sin(g),P=Math.cos(g),F=R*h,U=P*h,w=R*E,O=P*E;c.push(F,A,U),l.push(w,_,O),p.push(x,1-b)}for(var B=0;B<n;++B)for(var I=0;I<t;++I){var S=1+I,C=1+B;d.push(u*B+I,u*C+I,u*B+S),d.push(u*C+I,u*C+S,u*B+S)}return{position:c,normal:l,texcoord:p,indices:d}}function B(e,r,t,n,a){if(r<3)throw Error("divisions must be at least 3");t=t||1,a=a||1,n=n||0;for(var o=(r+1)*(t+1),i=m(3,o),u=m(3,o),f=m(2,o),s=m(3,t*r*2,Uint16Array),c=0,l=e-n,p=r+1,d=0;d<=t;++d){for(var y=n+l*Math.pow(d/t,a),b=0;b<=r;++b){var v=2*Math.PI*b/r,E=y*Math.cos(v),h=y*Math.sin(v);if(i.push(E,0,h),u.push(0,1,0),f.push(1-b/r,d/t),d>0&&b!==r){var _=c+(b+1),A=c+b,T=c+b-p,x=c+(b+1)-p;s.push(_,A,T),s.push(_,T,x)}}c+=r+1}return{position:i,normal:u,texcoord:f,indices:s}}function I(e){return function(r){var t=e.apply(this,Array.prototype.slice.call(arguments,1));return n.createBuffersFromArrays(r,t)}}function S(e){return function(r){var t=e.apply(null,Array.prototype.slice.call(arguments,1));return n.createBufferInfoFromArrays(r,t)}}var C=["numComponents","size","type","normalize","stride","offset","attrib","name","attribName"];function M(e,r,t,n){n=n||0;for(var a=e.length,o=0;o<a;++o)r[t+o]=e[o]+n}function D(e,r){var t=s(e),n=new t.constructor(r),o=n;return t.numComponents&&t.numElements&&l(n,t.numComponents),e.data&&(o={data:n},a.copyNamedProperties(C,e,o)),o}var N=S(F);r.create3DFBufferInfo=N;var L=I(F);r.create3DFBuffers=L;var k=S(g);r.createCubeBufferInfo=k;var j=I(g);r.createCubeBuffers=j;var z=S(A);r.createPlaneBufferInfo=z;var G=I(A);r.createPlaneBuffers=G;var X=S(T);r.createSphereBufferInfo=X;var V=I(T);r.createSphereBuffers=V;var Y=S(R);r.createTruncatedConeBufferInfo=Y;var W=I(R);r.createTruncatedConeBuffers=W;var K=S(_);r.createXYQuadBufferInfo=K;var H=I(_);r.createXYQuadBuffers=H;var q=S(U);r.createCresentBufferInfo=q;var Z=I(U);r.createCresentBuffers=Z;var Q=S(w);r.createCylinderBufferInfo=Q;var $=I(w);r.createCylinderBuffers=$;var J=S(O);r.createTorusBufferInfo=J;var ee=I(O);r.createTorusBuffers=ee;var re=S(B);r.createDiscBufferInfo=re;var te=I(B);r.createDiscBuffers=te},function(e,r,t){"use strict";r.__esModule=!0;var n={addExtensionsToContext:!0,getContext:!0,getWebGLContext:!0,resizeCanvasToDisplaySize:!0,setDefaults:!0};r.addExtensionsToContext=E,r.getContext=function(e,r){return function(e,r){for(var t=["webgl2","webgl","experimental-webgl"],n=null,a=0;a<t.length;++a)if(n=e.getContext(t[a],r)){d.addExtensionsToContext&&E(n);break}return n}(e,r)},r.getWebGLContext=function(e,r){return function(e,r){for(var t=["webgl","experimental-webgl"],n=null,a=0;a<t.length;++a)if(n=e.getContext(t[a],r)){d.addExtensionsToContext&&E(n);break}return n}(e,r)},r.resizeCanvasToDisplaySize=function(e,r){r=r||1,r=Math.max(0,r);var t=e.clientWidth*r|0,n=e.clientHeight*r|0;if(e.width!==t||e.height!==n)return e.width=t,e.height=n,!0;return!1},r.setDefaults=function(e){i.copyExistingProperties(e,d),a.setAttributeDefaults_(e),o.setTextureDefaults_(e)};var a=p(t(7));Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=a[e]))});var o=p(t(8));Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=o[e]))});var i=p(t(0)),u=p(t(4));Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=u[e]))});var f=t(12);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=f[e]))});var s=t(13);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=s[e]))});var c=t(5);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=c[e]))});var l=t(1);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=l[e]))});var m=t(14);function p(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||(r[e]=m[e]))});var d={addExtensionsToContext:!0};var y=/^(.*?)_/;function b(e,r){u.glEnumToString(e,0);var t=e.getExtension(r);if(t){var n={},a=y.exec(r)[1],o="_"+a;for(var f in t){var s=t[f],c="function"==typeof s,l=c?a:o,m=f;f.endsWith(l)&&(m=f.substring(0,f.length-l.length)),void 0!==e[m]?c||e[m]===s||i.warn(m,e[m],s,f):c?e[m]=function(e){return function(){return e.apply(t,arguments)}}(s):(e[m]=s,n[m]=s)}n.constructor={name:t.constructor.name},u.glEnumToString(n,0)}return t}var v=["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_color_buffer_float","EXT_color_buffer_half_float","EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2","EXT_frag_depth","EXT_sRGB","EXT_shader_texture_lod","EXT_texture_filter_anisotropic","OES_element_index_uint","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_atc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_depth_texture","WEBGL_draw_buffers"];function E(e){for(var r=0;r<v.length;++r)b(e,v[r])}},function(e,r,t){"use strict";r.__esModule=!0,r.drawBufferInfo=a,r.drawObjectList=function(e,r){var t=null,o=null;r.forEach(function(r){if(!1!==r.active){var i=r.programInfo,u=r.vertexArrayInfo||r.bufferInfo,f=!1,s=void 0===r.type?e.TRIANGLES:r.type;i!==t&&(t=i,e.useProgram(i.program),f=!0),(f||u!==o)&&(o&&o.vertexArrayObject&&!u.vertexArrayObject&&e.bindVertexArray(null),o=u,n.setBuffersAndAttributes(e,i,u)),n.setUniforms(i,r.uniforms),a(e,u,s,r.count,r.offset,r.instanceCount)}}),o.vertexArrayObject&&e.bindVertexArray(null)};var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}(t(5));function a(e,r,t,n,a,o){t=void 0===t?e.TRIANGLES:t;var i=r.indices,u=r.elementType,f=void 0===n?r.numElements:n;a=void 0===a?0:a,u||i?void 0!==o?e.drawElementsInstanced(t,f,void 0===u?e.UNSIGNED_SHORT:r.elementType,a,o):e.drawElements(t,f,void 0===u?e.UNSIGNED_SHORT:r.elementType,a):void 0!==o?e.drawArraysInstanced(t,a,f,o):e.drawArrays(t,a,f)}},function(e,r,t){"use strict";r.__esModule=!0,r.bindFramebufferInfo=function(e,r,t){t=t||e.FRAMEBUFFER,r?(e.bindFramebuffer(t,r.framebuffer),e.viewport(0,0,r.width,r.height)):(e.bindFramebuffer(t,null),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight))},r.createFramebufferInfo=function(e,r,t,o){var c=e.FRAMEBUFFER,l=e.createFramebuffer();e.bindFramebuffer(c,l),t=t||e.drawingBufferWidth,o=o||e.drawingBufferHeight;var m=0,p={framebuffer:l,attachments:[],width:t,height:o};return(r=r||u).forEach(function(r){var u=r.attachment,l=r.format,d=function(e){return f[e]}(l);if(d||(d=i+m++),!u)if(function(e){return s[e]}(l))u=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u),e.renderbufferStorage(e.RENDERBUFFER,l,t,o);else{var y=Object.assign({},r);y.width=t,y.height=o,void 0===y.auto&&(y.auto=!1,y.min=y.min||y.minMag||e.LINEAR,y.mag=y.mag||y.minMag||e.LINEAR,y.wrapS=y.wrapS||y.wrap||e.CLAMP_TO_EDGE,y.wrapT=y.wrapT||y.wrap||e.CLAMP_TO_EDGE),u=n.createTexture(e,y)}if(a.isRenderbuffer(e,u))e.framebufferRenderbuffer(c,d,e.RENDERBUFFER,u);else{if(!a.isTexture(e,u))throw"unknown attachment type";e.framebufferTexture2D(c,d,r.texTarget||e.TEXTURE_2D,u,r.level||0)}p.attachments.push(u)}),p},r.resizeFramebufferInfo=function(e,r,t,o,i){o=o||e.drawingBufferWidth,i=i||e.drawingBufferHeight,r.width=o,r.height=i,(t=t||u).forEach(function(t,u){var f=r.attachments[u],s=t.format;if(a.isRenderbuffer(e,f))e.bindRenderbuffer(e.RENDERBUFFER,f),e.renderbufferStorage(e.RENDERBUFFER,s,o,i);else{if(!a.isTexture(e,f))throw"unknown attachment type";n.resizeTexture(e,f,t,o,i)}})};var n=o(t(8)),a=o(t(0));function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var i=36064,u=[{format:6408,type:5121,min:9729,wrap:33071},{format:34041}],f={};f[34041]=33306,f[6401]=36128,f[36168]=36128,f[6402]=36096,f[33189]=36096;var s={};s[32854]=!0,s[32855]=!0,s[36194]=!0,s[34041]=!0,s[33189]=!0,s[6401]=!0,s[36168]=!0},function(e,r,t){"use strict";r.__esModule=!0,r.createVertexArrayInfo=function(e,r,t){var a=e.createVertexArray();e.bindVertexArray(a),r.length||(r=[r]);return r.forEach(function(r){n.setBuffersAndAttributes(e,r,t)}),e.bindVertexArray(null),{numElements:t.numElements,elementType:t.elementType,vertexArrayObject:a}},r.createVAOAndSetAttributes=a,r.createVAOFromBufferInfo=function(e,r,t){return a(e,r.attribSetters||r,t.attribs,t.indices)};var n=function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}(t(5));function a(e,r,t,a){var o=e.createVertexArray();return e.bindVertexArray(o),n.setAttributes(r,t),a&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bindVertexArray(null),o}}])});
},{}],6:[function(require,module,exports) {
"use strict";function e(){const e=document.querySelector("canvas");e&&document.body.removeChild(e);const t=document.createElement("canvas");return t.width=700,t.height=700,document.body.appendChild(t),t}function t(e){t.timers=t.timers||{},t.timers[e]={name:e,start:new Date},console.time(e)}function n(e){t.timers[e].end=new Date,console.timeEnd(e)}function o(){document.querySelector("#stats").innerText=Object.values(t.timers).map(e=>`${e.name}: ${e.end-e.start} ms`).join("\n")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCanvas=e,exports.time=t,exports.timeEnd=n,exports.printTimes=o;
},{}],5:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("twgl.js"),n=t(e),r=require("./utils");function t(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function o(e){let n="";for(;e--;)n+="\n            if (uv.x < 0.3) {\n                v = uv.x * 0.2;\n            } else {\n                v = uv.x / uv.y;\n            }\n        ";return n}function i(e){return new Promise(n=>setTimeout(n,e))}exports.default=async function(){const e=(0,r.createCanvas)(),t=e.getContext("webgl",{premultipliedAlpha:!1,preserveDrawingBuffer:!0});e.addEventListener("webglcontextlost",e=>{console.error("Context lost!",e)},!1);const s=`\n        precision mediump float;\n    \n        uniform vec2 resolution;\n        uniform vec4 baseColor;\n    \n        void main() {\n          vec2 uv = gl_FragCoord.xy / resolution;\n          float v = uv.x * uv.y;\n    \n          ${o(3e3)}\n          \n          gl_FragColor = vec4(v, v, v, 1.0) * baseColor;\n        }\n    `;(0,r.time)("create programs");const a=n.createProgramInfo(t,["\n        attribute vec4 position;\n    \n        void main() {\n          gl_Position = position;\n        }\n    ",s]),u=n.createBufferInfoFromArrays(t,{position:[-.5,-.5,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]});function l(e,o){(0,r.time)("render"+e),n.resizeCanvasToDisplaySize(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height);const i={resolution:[t.canvas.width,t.canvas.height],baseColor:o};t.useProgram(a.program),n.setBuffersAndAttributes(t,a,u),n.setUniforms(a,i),n.drawBufferInfo(t,u),t.getError(),(0,r.timeEnd)("render"+e)}(0,r.timeEnd)("create programs"),l(1,[1,0,0,1]),await i(200),l(2,[0,1,0,1]),(0,r.printTimes)()};
},{"twgl.js":7,"./utils":6}],4:[function(require,module,exports) {
"use strict";var e=require("./simple"),t=r(e);function r(e){return e&&e.__esModule?e:{default:e}}const u=document.querySelector("#simple");u.addEventListener("click",t.default);
},{"./simple":5}]},{},[4])
//# sourceMappingURL=/webgl-test.674cc1b4.map